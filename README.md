# EVALUATOR

1. `nuevo_problema p`: añade un problema nuevo con identificador *p*. El comando admite la forma abreviada `np p`. Si ya existía un problema en la plataforma con el mismo identificador se imprime un mensaje de error. En caso contrario se imprime el número de problemas <i>P</i> en la colección después de añadirlo.
2. `nueva_sesion s`: añade una sesión nueva con identificador *s*. El comando admite la forma abreviada `ns s`. Primero se debe leer la estructura de problemas de la sesión, de la misma manera que se hizo en las sesiones iniciales (se garantiza que los problemas existen y no están repetidos). Si ya existía una sesión en la plataforma con el mismo identificador se imprime un mensaje de error. En caso contrariose imprime el número de sesiones <i>Q</i> en el repositorio después de añadirla.
3. `nuevo_curso`: añade un nuevo curso con identificador <i>N+1</i> en caso de que cumpla la restricción de no repetición de problemas en el mismo curso. El comando admite la forma abreviada `nc`. Primero se lee un número de sesiones <i>S<sub>N+1</sub>>0</i> y luego una secuencia de <i>S<sub>N+1</sub></i> identificadores válidos de sesiones. Si no hay intersección de problemas entre las sesiones, se añade el curso al conjunto de cursos y se imprime su identificador. En caso contrario, no se añade al conjunto (por lo que no varía) y se imprime un mensaje de error.
4. `alta_usuario u`: registra un usuario nuevo con identificador *u*. El comando admite la forma abreviada `a u`. Si ya existía un usuario en la plataforma con el mismo identificador se imprime un mensaje de error. En caso contrario se imprime el número de usuarios registrados <i>M</i> después de añadirlo.
5. `baja_usuario u`: da de baja un usuario con identificador *u*. El comando admitela forma abreviada `b u`. Si no existe un usuario en la plataforma con identificador *u* se  imprime  un  mensaje  de  error.  En  caso  contrario  se  imprime  el  número  de usuarios registrados *M* después de borrarlo. Si más tarde se da de alta otro usuario con el mismo nombre es como si el anterior no hubiera existido.
6. `inscribir_curso u c`: inscribe un usuario *u* en el curso con identificador *c*. El comando admite la forma abreviada `i u c`. Si el usuario *u* no existe en la plataforma o ya está inscrito en otro curso que no ha sido completado, o si el curso c no existe, se imprime un mensaje de error. En caso contrario se imprime el número de usuarios inscritos en el cursoc después de añadirlo.
7. `curso_usuario u`: consulta el curso en el que está inscrito un usuario *u*. El comando admite la forma abreviada `cu u`. Si el usuario *u* no existe en la plataformase imprime un mensaje de error. En caso contrario, se imprime el identificador del curso o un cero si no está inscrito en ningún curso.
8. `sesion_problemac  p`: consulta la sesión del problema *p* en el curso con identificador *c*. El comando admite la forma abreviada `sp c p`. Si el curso *c* no existe o si el problema *p* no existe o si el problema *p* no pertenece al curso *c*, se imprime un mensaje de error. En caso contrario, se imprime el identificador de la sesión donde se realiza el problema *p* en el curso *c*.
9. `problemas_resueltos u`: se listan en orden creciente por identificador los problemas solucionados  con  éxito  por  el  usuario *u*,  ya  sea  en  el  curso  en  que  está inscrito actualmente (si lo está en alguno) como los resueltos en cursos anteriores. Además de los identificadores se imprime también el número de envíos realizados, dos por el usuario a cada problema del listado (valor mayor o igual que uno). Si el usuario *u* no existe en la plataforma, se imprime un mensaje de error. El comando admite la forma abreviada `pr u`.
10. `problemas_enviables u`: se listan en orden creciente por identificador los problemas que el usuario no ha solucionado todavía en el curso en el que está inscrito actualmente, pero a los cuales ya puede realizar un envío (porque cumple todos sus prerequisitos, directos e indirectos). Además de los identificadores se imprime también el número de envíos realizados por el usuario a cada problema del listado (valor mayor o igual que cero). Si el usuario no existe en la plataforma o no está inscrito en ningún curso, se imprime un mensaje de error. El comando admite la forma abreviada `pe u`.
11. `envio u p r`: se toma nota del resultador(*r=1* si éxito o *r=0* si fallo) de un nuevo envío del usuario *u* al problema *p*. Se garantiza que el usuario *u* está registrado e inscrito en un curso donde aparece el problema *p* y que *p* pertenece al conjunto de problemas a los que *u* puede enviar una solución por cumplir los prerequisitos. Todo envío da lugar a la actualización de las estadísticas del usuario y del problema. Además, en el caso *r=1* también hay que actualizar los problemas resueltos y enviables del usuario y comprobar si con ello ha completado el curso en el que estaba inscrito. En caso de que lo haya completado, el usuario deja de estar inscrito en el curso. El comando admite la forma abreviada `eu p r`.
12. `listar_problemas`: se listan los problemas de la colección, indicando para cada problema el número *t* de envíos totales y el número *e* de envíos con éxito a dicho problema, en ambos casos de usuarios presentes o pasados. También se ha de escribir el ratio (t+1)/(e+1), y los problemas han de listarse en orden creciente por dicho ratio. En caso de empate, se han de listar por orden creciente de identificador. El comando admite la forma abreviada `lp`. Si se desea lo mismo para un solo problema se usa `escribir_problema p`. Si *p* no existe en la plataforma se imprime un mensaje de error. El comando admite la forma abreviada `ep p`.
13. `listar_sesiones`:  se  listan  las  sesiones  actuales de la  plataforma,  ordenadas crecientemente por su identificador y mostrando, para cada sesión, el número de problemas que la forman y los identificadores de dichos problemas, siguiendo su estructura de prerequisitos en postorden. El comando admite la forma abreviada `ls`. Si se desea lo mismo para una sola sesión se usa `escribir_sesion s`. Si *s* no existe en la plataforma se imprime un mensaje de error. El comando admite la forma abreviada `es s`.
14. `listar_cursos`: se listan los cursos actuales de la plataforma, ordenados crecientemente por su identificador y mostrando, para cada curso, el número de usuarios actuales  o  pasados  que  lo  han  completado,  el  número  de  usuarios  inscritos  actualmente, el número de sesiones que lo forman y los identificadores de dichas sesiones, en el mismo orden en el que se leyeron cuando se creó el curso. El comando admite la forma abreviada `lc`. Si se desea lo mismo para un solo curso se usa `escribir_curso c`. Si *c* no existe en la plataforma se imprime un mensajede error. El comando admite la forma abreviada `ec c`.
15. `listar_usuarios`: se listan los usuarios registrados actualmente en la plataforma,  ordenados  crecientemente  por  su  nombre  y  mostrando,  para  cada  usuario, cuántos envíos en total ha realizado, cuántos problemas ha resuelto satisfactoriamente, cuántos problemas ha intentado resolver (al menos ha hecho un envío), y el identificador del curso en el que está inscrito o un cero si no está inscrito en ninguno. El comando admite la forma abreviada `lu`. Si se desea lo mismo para un solo usuario se usa `escribir_usuario u`. Si *u* no existe en la plataforma se imprime un mensaje de error. El comando admite la forma abreviada `eu u`.
16. fin: termina la ejecución del programa.